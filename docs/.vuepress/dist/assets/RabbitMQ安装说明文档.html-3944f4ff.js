import{_ as i,o as l,c as t,b as s,d as n,a as e}from"./app-9d6e6088.js";const r={},o=e(`<h1 id="rabbitmq安装说明文档" tabindex="-1"><a class="header-anchor" href="#rabbitmq安装说明文档" aria-hidden="true">#</a> RabbitMQ安装说明文档</h1><h2 id="_1-安装依赖环境" tabindex="-1"><a class="header-anchor" href="#_1-安装依赖环境" aria-hidden="true">#</a> 1. 安装依赖环境</h2><p>在线安装依赖环境：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> build-essential openssl openssl-devel unixODBC unixODBC-devel <span class="token function">make</span> gcc gcc-c++ kernel-devel m4 ncurses-devel tk tc xz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-安装erlang" tabindex="-1"><a class="header-anchor" href="#_2-安装erlang" aria-hidden="true">#</a> 2. 安装Erlang</h2><p>上传</p><p>erlang-18.3-1.el7.centos.x86_64.rpm socat-1.7.3.2-5.el7.lux.x86_64.rpm rabbitmq-server-3.6.5-1.noarch.rpm</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token comment"># 安装</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> erlang-18.3-1.el7.centos.x86_64.rpm

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果出现如下错误</p>`,9),c=["src"],p=e(`<p>说明gblic 版本太低。我们可以查看当前机器的gblic 版本</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>strings /lib64/libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> GLIBC
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),d=["src"],u=e(`<p>当前最高版本2.12，需要2.15.所以需要升级glibc</p><ul><li><p>使用yum更新安装依赖</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc <span class="token function">make</span> <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>下载rpm包</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token function">wget</span> <span class="token operator">&lt;</span>http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-utils-2.17-55.el6.x86_64.rpm<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>
<span class="token function">wget</span> <span class="token operator">&lt;</span>http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-static-2.17-55.el6.x86_64.rpm<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>
<span class="token function">wget</span> <span class="token operator">&lt;</span>http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-2.17-55.el6.x86_64.rpm<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>
<span class="token function">wget</span> <span class="token operator">&lt;</span>http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-common-2.17-55.el6.x86_64.rpm<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>
<span class="token function">wget</span> <span class="token operator">&lt;</span>http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-devel-2.17-55.el6.x86_64.rpm<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>
<span class="token function">wget</span> <span class="token operator">&lt;</span>http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-headers-2.17-55.el6.x86_64.rpm<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>
<span class="token function">wget</span> <span class="token operator">&lt;</span>http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/nscd-2.17-55.el6.x86_64.rpm<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),b=e(`<li><p>安装rpm包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">rpm</span> <span class="token parameter variable">-Uvh</span> *-2.17-55.el6.x86_64.rpm <span class="token parameter variable">--force</span> <span class="token parameter variable">--nodeps</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li>`,1),m=e(`<p>安装完毕后再查看glibc版本,发现glibc版本已经到2.17了</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>strings /lib64/libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> GLIBC
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),h=["src"],v=e(`<h2 id="_3-安装rabbitmq" tabindex="-1"><a class="header-anchor" href="#_3-安装rabbitmq" aria-hidden="true">#</a> 3. 安装RabbitMQ</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 安装</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> socat-1.7.3.2-5.el7.lux.x86_64.rpm

<span class="token comment"># 安装</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> rabbitmq-server-3.6.5-1.noarch.rpm

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-开启管理界面及配置" tabindex="-1"><a class="header-anchor" href="#_4-开启管理界面及配置" aria-hidden="true">#</a> 4. 开启管理界面及配置</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 开启管理界面</span>
rabbitmq-plugins <span class="token builtin class-name">enable</span> rabbitmq_management
<span class="token comment"># 修改默认配置信息</span>
<span class="token function">vim</span> /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.5/ebin/rabbit.app 
<span class="token comment"># 比如修改密码、配置等等，例如：loopback_users 中的 &lt;&lt;&quot;guest&quot;&gt;&gt;,只保留guest</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-启动" tabindex="-1"><a class="header-anchor" href="#_5-启动" aria-hidden="true">#</a> 5. 启动</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token function">service</span> rabbitmq-server start <span class="token comment"># 启动服务</span>
<span class="token function">service</span> rabbitmq-server stop <span class="token comment"># 停止服务</span>
<span class="token function">service</span> rabbitmq-server restart <span class="token comment"># 重启服务</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>设置配置文件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/share/doc/rabbitmq-server-3.6.5/

<span class="token function">cp</span> rabbitmq.config.example /etc/rabbitmq/rabbitmq.config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-配置虚拟主机及用户" tabindex="-1"><a class="header-anchor" href="#_6-配置虚拟主机及用户" aria-hidden="true">#</a> 6. 配置虚拟主机及用户</h2><h3 id="_6-1-用户角色" tabindex="-1"><a class="header-anchor" href="#_6-1-用户角色" aria-hidden="true">#</a> 6.1. 用户角色</h3><p>RabbitMQ在安装好后，可以访问<code>http://ip地址:15672</code> ；其自带了guest/guest的用户名和密码；如果需要创建自定义用户；那么也可以登录管理界面后，如下操作：</p>`,11),g=["src"],_=["src"],k=e('<p><strong>角色说明</strong>：</p><p>1、 超级管理员(administrator)</p><p>可登陆管理控制台，可查看所有的信息，并且可以对用户，策略(policy)进行操作。</p><p>2、 监控者(monitoring)</p><p>可登陆管理控制台，同时可以查看rabbitmq节点的相关信息(进程数，内存使用情况，磁盘使用情况等)</p><p>3、 策略制定者(policymaker)</p><p>可登陆管理控制台, 同时可以对policy进行管理。但无法查看节点的相关信息(上图红框标识的部分)。</p><p>4、 普通管理者(management)</p><p>仅可登陆管理控制台，无法看到节点信息，也无法对策略进行管理。</p><p>5、 其他</p><p>无法登陆管理控制台，通常就是普通的生产者和消费者。</p><h3 id="_6-2-virtual-hosts配置" tabindex="-1"><a class="header-anchor" href="#_6-2-virtual-hosts配置" aria-hidden="true">#</a> 6.2. Virtual Hosts配置</h3><p>像mysql拥有数据库的概念并且可以指定用户对库和表等操作的权限。RabbitMQ也有类似的权限管理；在RabbitMQ中可以虚拟消息服务器Virtual Host，每个Virtual Hosts相当于一个相对独立的RabbitMQ服务器，每个VirtualHost之间是相互隔离的。exchange、queue、message不能互通。 相当于mysql的db。Virtual Name一般以/开头。</p><h4 id="_6-2-1-创建virtual-hosts" tabindex="-1"><a class="header-anchor" href="#_6-2-1-创建virtual-hosts" aria-hidden="true">#</a> 6.2.1. 创建Virtual Hosts</h4>',14),f=["src"],x=s("h4",{id:"_6-2-2-设置virtual-hosts权限",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_6-2-2-设置virtual-hosts权限","aria-hidden":"true"},"#"),n(" 6.2.2. 设置Virtual Hosts权限")],-1),q=["src"],y=["src"];function w(a,B){return l(),t("div",null,[o,s("img",{src:a.$withBase("/springboot/assets/1565526174751.png"),alt:"foo"},null,8,c),p,n(),s("img",{src:a.$withBase("/springboot/assets/1565526264426.png"),alt:"foo"},null,8,d),u,s("ul",null,[b,s("li",null,[m,s("img",{src:a.$withBase("/springboot/assets/1565528746057.png"),alt:"foo"},null,8,h)])]),v,s("img",{src:a.$withBase("/springboot/assets/1565098043833.png"),alt:"foo"},null,8,g),s("img",{src:a.$withBase("/springboot/assets/1565098315375.png"),alt:"foo"},null,8,_),k,s("img",{src:a.$withBase("/springboot/assets/1565098496482.png"),alt:"foo"},null,8,f),x,s("img",{src:a.$withBase("/springboot/assets/1565098585317.png"),alt:"foo"},null,8,q),s("img",{src:a.$withBase("/springboot/assets/1565098719054.png"),alt:"foo"},null,8,y)])}const M=i(r,[["render",w],["__file","RabbitMQ安装说明文档.html.vue"]]);export{M as default};
