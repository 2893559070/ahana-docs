<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.62">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>spring | 啊涵的笔记（网上资料总结，个人笔记，非商用，如有侵权联系 qq: 2893559070 删除）</title><meta name="description" content="技术随记">
    <link rel="preload" href="/ahana-docs/assets/style-0c8a58ef.css" as="style"><link rel="stylesheet" href="/ahana-docs/assets/style-0c8a58ef.css">
    <link rel="modulepreload" href="/ahana-docs/assets/app-676abf65.js"><link rel="modulepreload" href="/ahana-docs/assets/Spring搭建方式.html-aae771e7.js"><link rel="modulepreload" href="/ahana-docs/assets/Spring搭建方式.html-41aabae5.js"><link rel="prefetch" href="/ahana-docs/assets/index.html-22d4f740.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/mysql.html-8570ae57.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Linux.html-c2609a08.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/前端部署.html-debee05e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker-compose.html-c55cb9b7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker-私有仓库.html-3b997dbe.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker.html-2ce02d33.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/dockerfile.html-1cdd5e97.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker安装.html-b054d011.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker应用部署.html-e46c940d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Elasticsearch 安装.html-23670afc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ElasticSearch01.html-2cf08101.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ElasticSearch02.html-29e9d62a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ElasticSearch集群搭建.html-e1ad92f2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ik分词器安装.html-48b5c144.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/directory-tree相关错误.html-c6a52b5f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue.html-625ac43b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/网络错误.html-8165f02c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/1-WebGIS介绍.html-27388644.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/2-WebGIS如何学习.html-8b5bcb22.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/3-常见的GIS平台.html-60ad4fc1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/4-术语与名词.html-404d3d65.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/5-开发环境搭建.html-43f6255d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/6-WebGIS开发.html-d8e448db.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/7-GeoJSON.html-ea855325.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/8-项目实例 .html-ebd8e390.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Git 与SVN 比较.html-5ec902f8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/git.html-63d54f74.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/git命令详解.html-6833082e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/git错误汇总.html-0c15c6bb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/File文件.html-c78132a6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/IDE常用快捷键.html-70f7bb31.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/IO流.html-6c9f6d55.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Java 开发环境配置.html-d0e244c9.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/JavaWeb-JDBC.html-8ef6ba18.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/JavaWeb-Mybatis.html-56bc549a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/mybatis.html-dfe05754.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Stream.html-96b4c171.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/函数式接口.html-a26c57ed.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/变量.html-b35b75a8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基础加强.html-b8416774.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基础阶段.html-7d01ffc2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/多态.html-25beee30.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/多线程.html-754c1d12.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/常用API.html-ee52584f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/序列化.html-aedde2e4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/抽象类.html-3eb45b51.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/接口.html-efd69b77.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/数据类型.html-211ff876.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/泛型.html-0a78f283.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/继承.html-5a83a5dd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/网络编程.html-f7100f27.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/装箱拆箱.html-fbf286ac.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/集合.html-5c9ba4ab.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/面向对象进阶.html-bcbf6149.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/jdk安装.html-bb56dc86.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Linux01.html-2ece77b4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Linux02.html-c3b3ff47.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Linux指令.html-d9b6031d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/liunx-设置静态ip.html-bab32346.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/mysql.html-30e2af0b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/同步时间.html-287d3d51.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/阿里YUM源.html-cbb377f7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/base.html-c74eaab0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/senior.html-1a547258.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-SQL.html-ea5a4a7e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-事务.html-93290fda.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-函数.html-1d98183f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/MySQL-基础.html-0b4d1b11.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-多表查询.html-fd7cd54b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-约束.html-077f5d25.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/安装mysql.html-93b89c2a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运维-1-日志.html-874c15a0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运维-2-主从复制.html-784db1c8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运维-3-分库分表.html-086457c0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运维-4-读写分离.html-82da5525.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-1-存储引擎.html-c8cd5ed7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-2-索引.html-24ee1d57.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-3-SQL优化.html-da9070f7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-4-视图、存储过程、触发器.html-69226db1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-5-锁.html-6b6a5e99.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-6-InnoDB引擎.html-8944d163.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-7-管理.html-79eb72dd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/nginx.html-d33d0918.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/express.html-5b50f4e3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/http创建.html-099884d2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Koa.html-4ca3de35.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/koa企业级三层框架.html-81712eae.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/全局对象.html-7cd07d07.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基础.html-4eb7db2f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/文件系统.html-fd12d463.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/网络编程.html-a60d778f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/鉴权.html-a3a5ac70.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ahooks.html-693b38b7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/antd-mobile问题汇总.html-1cbc18ef.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/class.html-77b2a448.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Davjs.html-0852c722.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/prop-types.html-f8abe2a6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/react.html-10c6418f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/React相关组件.html-84a8e841.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/redux.html-0de1990a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/UmiJS.html-a33eb275.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/入门.html-be96796d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/函数（Hook）.html-47265044.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/源码分析.html-b7cea17a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/知识点总结.html-fa4b6129.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/订阅.html-9527b3ff.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/路由.html-a65896c6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/面试.html-64043a7e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/React Native.html-8b89fbc4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/note.html-c7029dca.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring boot.html-9467c665.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring-mvc.html-d058c2a5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Spring-RestTemplate.html-defb65fb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Spring-springMvc Service 数据交互问题.html-e1e6009e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Spring-spring连接数据库问题.html-81ce4750.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring5.html-c40cb925.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringMvc常规搭建方式.html-7632c2f7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringMvc搭建方式.html-d090cc58.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ01.html-ab66ba02.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ02.html-5710aeec.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ安装说明文档.html-19d83eb8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ集群搭建.html-f65a9ff9.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring-boot01.html-aedb8af4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring-boot02.html-c6ef7800.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Euraka配置详解.html-3797ee19.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Gateway.html-9b3558eb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/gateway内置过滤器工厂.html-a90aafad.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ Windows 安装.html-8b64ad16.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringCloud01.html-244963c6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringCloud02.html-55bca6c8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringCloud03.html-82abb65b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/FastDFS.html-20c4f21e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Pdf.html-d2d87fb3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Poi.html-f94a9ca0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Shiro.html-0f558e80.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Thymeleaf.html-b13ad47d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/分布式ID生成解决方案.html-46eb2f5b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/微服务网关限流_鉴权.html-e6d12ddc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/数据同步解决方案-canal.html-cb0e3669.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/用户认证.html-f91142a4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/网站首页高可用nginx_lua.html-16cda032.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ts.html-40e6831a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/TypeScript中的基本类型.html-fd237f0f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/TypeScript打包.html-85161a6b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/接口.html-1672e635.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/泛型.html-d9fd267a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/编译选项.html-1b4b5412.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/贪吃蛇练习.html-0ff52160.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/面向对象.html-c8cf93d2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/uniapp.html-d389afc2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/baidumap.html-9110920c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/component动态组件.html-b2d09d99.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/directive指令.html-fea81484.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/eventBus兄弟传值.html-4166da50.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/extend动态创建组件.html-eedc7e22.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/keep-alive.html-0112b5cf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Pinia.html-50f3dc5f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/plugin.html-40d59ef5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/plugin插件.html-cb626c36.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/router原生js实现.html-1aa72bac.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/scriptSetup.html-951e16c4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue1.0实现.html-4b0472d9.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue3.html-168db7a9.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue3快速上手.html-e55a434b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue3新特性.html-23c84fec.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vueRouter.html-4154f7a6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vuex.html-1bb54ede.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vuex原生js实现.html-708aef0a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue面试.html-f73462f5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/源码分析.html-b4e7801b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/组件.html-e0fd4309.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/路由.html-3ae7fe1d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/骚操作.html-92a6daf4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue-cli前端自动化.html-bbafedc8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/概念.html-28854144.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/热更新.html-a9905eef.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/qiankun.html-f169c75d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/微前端.html-e650bf8a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/小程序基础.html-bf94eb26.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/小程序进阶.html-aec1e04e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/H5方法.html-cdf095a8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/js方法.html-a24b1931.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/优化.html-cbfe56ea.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/树形.html-5674689f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/正则.html-19d35768.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/递归找组件.html-8f0b7887.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/context.html-1e02a545.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/directory-tree.html-e48968d3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/js多线程.html-5717043f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/mock.html-bd914aad.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PDF文档.html-f32475be.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue 预览 Excel 表格.html-68376816.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue 预览 word 文件 docx.html-2615dba8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/下载.html-a94da224.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/搭建个人在线文档.html-bb27bc9b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/断点上传下载.html-54d8d12d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ES6.html-2653c509.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/1-cesium简介.html-afd11a6e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/2-cesium使用.html-56e9dfb0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/3-cesium绘制形状.html-2122dbe3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/4-cesium3DTiles.html-36983628.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/5-cesium材质.html-04993a17.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubernetes（k8s）.html-20befd92.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/1.简介.html-9e42715f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/2-快速入门.html-5eb3b6df.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/3-Spring配置文件.html-49603ef0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/4-Spring相关API.html-ae143d3f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/5-Spring配置数据源.html-d1b8681a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/6-Spring注解开发.html-3f000d26.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/7-Spring整合Junit.html-0e79167c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/8-Spring与web环境的集成.html-f40f3e16.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/springCloud架构解析.html-dbacc21c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringCloud项目总结.html-cabd636a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/到底要不要用Eureka.html-2919520d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/如何在k8s上正确部署Eureka.html-de2ed012.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/如何正确部署Zuul和ConfigServer到k8.html-1b1ffac2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/如何正确部署Zuul和ConfigServer到k8s.html-34abf7a8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/容器化SpringCloud项目说明.html-e1b3265c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/GitLab安装配置.html-6b2318fc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins BlueOcean入门.html-cf9859ba.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins CICD介绍.html-dddfb571.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins Credentials配置.html-b6da5a5b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins变量使用.html-3d75c5ce.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins声明式流水线入门.html-407bcf9c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins安装.html-45c28f39.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins级联变量.html-2487fdcb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/不同环境流水线设计.html-91bee723.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/图形化创建Jenkinsfile.html-9fea9fc2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/镜像仓库配置.html-9a13b6af.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Docker镜像高级优化及自动化构建建议.html-6be50c5a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins基于角色的账户管理.html-746f9ce0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins生产环境和UAT环境流水线设计.html-b0389b14.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins自动化构建Java应用.html-9f9d0180.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins自动化构建NodeJS应用.html-0e9a8a6a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins配置Kubernetes多集群.html-f2b8329b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/KUBECONFIG多集群配置.html-d210d100.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基于K8s的动态Jenkins Slave.html-da779de4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/K8s架构解析 Master节点介绍.html-3d537ddf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/为什么要引入Pod.html-baf9fbad.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/为什么要用Kubernetes.html-fdbe04ee.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/什么是Pod.html-a152fa79.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/定义一个Pod.html-fc89fa55.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机发布应用必备知识 Pod三种探针.html-38048ea6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机必备知识 Liveness和Readiness.html-f0cb8159.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机必备知识 Pod退出流程.html-878242b5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机必备知识 PreStop的使用.html-18774216.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机必备知识 StartupProbe.html-4f0f9f27.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Dockerfile用法.html-f9043662.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Docker基本命令.html-ccd9e827.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Docker基础.html-9dfa4920.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Scratch镜像.html-09fd5f5f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/镜像优化制作小镜像.html-858ac91b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/镜像优化多阶段制作小镜像.html-a8e31a1a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress多域名使用.html-66602592.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress简单使用.html-b97f171a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Label_Selector.html-16c37c85.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Service常用类型.html-14962681.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/什么是Ingress.html-a3144547.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/什么是Service.html-1b67e076.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用helm安装ingress.html-c803f273.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Service代理k8s外部服务.html-375c5800.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Service反代外部域名.html-047d8759.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/在k8s上是如何发布服务的.html-ba4188b1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/定义一个Service.html-6f325d12.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/DaemonSet的使用.html-d9ad6a38.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/DaemonSet的更新和回滚.html-4bd497d8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment扩容和缩容.html-9f305289.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment更新暂停和恢复.html-2f2af8bd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment更新注意事项.html-1130208f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment的回滚.html-d89eac7f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment的更新.html-1f130b5d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/HPA自动扩缩容.html-1c88e45b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RC_ReplicaSet.html-bc92cf24.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet扩容缩容.html-92961a0c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet更新策略.html-76391dfe.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet灰度发布.html-d78d07f4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet级联删除和非级联删除.html-297e3332.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/创建一个StatefulSet应用.html-a99b1baf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/守护进程服务Daemonset.html-5e6ac9e3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/无状态服务Deployment概念.html-3789daaf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/有状态应用管理StatefulSet概念.html-de0c01aa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ConfigMap_Secret使用SubPath.html-0fedf17f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ConfigMap_Secret热更新.html-2869660b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s1.19的不可变Secret和ConfigMap.html-d8340933.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s加密数据管理Secret.html-ceac178e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s配置管理ConfigMap.html-36b2c879.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/1-Kubeadm高可用安装基本说明.html-e976f53b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/2-Kubeadm Node节点配置.html-95734d01.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/3-Kubeadm基本环境配置.html-ae6d62fa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Dashboard_Metrics Server安装.html-2e6fb495.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s高可用架构解析.html-f45f7939.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubeadm基本组件安装.html-aaac6b5d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubeadm集群初始化.html-51233236.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubeadm高可用组件安装.html-cae40bb3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/集群可用性验证.html-9f07297b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/高可用Master及Token过期处理.html-699b617f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Bootstrapping CSR申请和证书颁发原理.html-d53807d3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Bootstrapping Kubelet启动过程.html-9a0d19c3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Bootstrapping 证书自动续期原理.html-6918f80d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s高可用架构解析.html-3e0ceeda.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Metrics_Dashboard安装.html-7ea47639.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Node节点配置(Calico、CoreDNS).html-db561a66.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制基本组件安装.html-7256ef1a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制安装TLS Bootstrapping自动颁发证书.html-5e18973d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制生成证书详解.html-85d49cdd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制系统和内核升级.html-6b79ece0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制高可用及k8s组件配置.html-829fda7f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制高可用基本配置.html-ca00843b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制高可用安装k8s集权说明.html-3d726d56.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制高可用集群可用性验证.html-d45de6b8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/生产环境k8s集群关键性配置.html-faee1c0e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Etcd集群升级.html-5d3ae775.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Kubernetes升级CoreDNS.html-a0b04f32.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Kubernetes升级Master组件.html-d2c20f64.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Kubernetes升级Node和Calico.html-f6fe1ca3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Kubernetes升级说明.html-10d6c31a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/EFK日志收集.html-912d5022.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Filebeat收集容器内日志.html-e4fd0973.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用不同资源名称查询日志.html-a4f1b9eb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Alertmanager入门.html-b37946cc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus使用微信告警.html-0214ed36.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus使用邮件告警.html-1b886023.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus自定义告警模板.html-ccbf9354.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus additional.html-c2fbe07f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus Exporter.html-f910cd41.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus Metrics类型.html-54d80657.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus安装.html-e2dac52b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus监控etcd集群.html-00f29a43.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus黑盒监控.html-ef748dfc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PromQL基本操作.html-7fbf8a9a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PromQL常用函数.html-b706bcc7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/解决Scheduler监控问题.html-69fd4c9e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus监控Java JVM.html-f2ddb6f4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus自动发现.html-539fcd5a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基于Eureka自动发现监控Java JVM.html-fdcc06c2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx SSL配置.html-014426a3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx域名重定向.html-f6790848.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx基本认证.html-faf0492e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx实现灰度-金丝雀.html-984ce014.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx监控.html-cf64d9aa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx黑白名单.html-05771a10.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s1.19下的Ingress配置.html-a2d2d4e1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx入门.html-2b7ed3fd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx前后端分离.html-a4763ca8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx匹配请求头.html-60d3adf5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx自定义错误页面.html-1e8cb1b8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx速率限制.html-0b34cadd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Dashboard基于用户名密码认证.html-0781c1f2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubernetes服务质量QoS.html-d820af98.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ratel简单使用.html-d68bbde3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RBAC使用.html-a698a7b4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RBAC实现不同用户不同权限.html-89c3b010.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RBAC权限管理概念.html-7654aa3e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ServiceAccount权限管理.html-4d139055.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用PodPreset预配置容器时区注意事项.html-6258a272.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/准入控制.html-dc1a9daf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/安装一键式k8s资源平台Ratel到k8s集群中.html-901fc094.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s存储Volumes介绍.html-af0cab72.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PV_PVC入门使用.html-96060b94.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Volumes EmptyDir实现数据共享.html-7b077bd5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Volumes HostPath挂载宿主机路径.html-f71cffa8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/持久化存储PV_PVC概念.html-1c97428c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/挂载NFS至容器.html-c2f49841.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Affinity亲和力入门.html-8cc3873b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/CronJob计划任务.html-aa460653.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Pod亲和力和反亲和力.html-003f25ee.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Taint_Toleration补充.html-9704e44b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Topology拓扑域概念.html-a3d6ad69.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/临时容器概念和配置.html-584e3d71.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Topology实现多地多机房部署.html-a1f3fe3d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用临时容器在线debug.html-6f5374e3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/初始化容器InitContainer.html-3bf5ece3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/污点和容忍Taint_Toleration入门.html-6c8b6520.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/节点亲和力NodeAffinity使用.html-5ddc0dc6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Helm v3安装使用.html-00f7bf76.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Helm目录层级.html-462e0c02.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Helm语法.html-66f25e19.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kafka和Zookeeper集群扩容缩容.html-9e8c842a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ扩容和缩容.html-625c74a1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Redis集群扩容和缩容.html-47e0ec71.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/在k8s上部署Redis集群.html-7b6997ca.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/如何部署一个容器到k8s开始学习.html-05f0f1f5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/容器化中间件基本说明.html-1dad0bc8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/编写Helm部署RabbitMQ集群.html-49314a3c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/解决RabbitMQ密码不生效问题.html-37446aab.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运行自己编写的Helm.html-cfa7c19e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/部署RabbitMQ集群到k8s.html-c9acdd29.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/部署Redis Operator.html-1f36d483.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/部署Zookeeper和Kafka集群.html-7bc8ffeb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/pVC在线扩容使用.html-714eda14.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PVC在线扩容和PVC快照.html-0fac5d8c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PVC快照和回滚.html-891c45c3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Rook Ceph xfs_repair问题.html-5162f011.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Rook部署.html-323d4b57.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Rook集群清理和重建.html-b40439f3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet动态申请存储.html-ddd4fba1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/云原生存储Rook介绍.html-8b7d8e51.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用PVC动态申请存储.html-d981f26e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Rook部署Ceph集群.html-9ae239bc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/共享文件系统类型的StorageClass.html-a133effa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/创建块存储类型的动态存储.html-22b88afd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/存储回顾.html-c644e6cf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/index.html-00427899.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/mysql.html-f4194b14.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Linux.html-2d301444.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/前端部署.html-e7bdf625.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker-compose.html-7aac2572.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker-私有仓库.html-60f5d74d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker.html-142630f4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/dockerfile.html-b778ac34.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker安装.html-0be9856a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/docker应用部署.html-fa9f1d99.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Elasticsearch 安装.html-1f2d9a64.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ElasticSearch01.html-9f1dd78e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ElasticSearch02.html-65c802ba.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ElasticSearch集群搭建.html-29f5fb1b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ik分词器安装.html-430bf752.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/directory-tree相关错误.html-8aeecae9.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue.html-60171c11.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/网络错误.html-fa3709bb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/1-WebGIS介绍.html-02cd4ec1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/2-WebGIS如何学习.html-f3312cb1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/3-常见的GIS平台.html-e414807a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/4-术语与名词.html-510b2c03.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/5-开发环境搭建.html-c3bcd907.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/6-WebGIS开发.html-20b8979c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/7-GeoJSON.html-d342242f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/8-项目实例 .html-2844abbc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Git 与SVN 比较.html-6c7da81d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/git.html-03dd7566.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/git命令详解.html-eb8131ba.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/git错误汇总.html-91cdd39a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/File文件.html-1c19c1ce.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/IDE常用快捷键.html-dad01f8d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/IO流.html-4015abae.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Java 开发环境配置.html-c6cd0983.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/JavaWeb-JDBC.html-29d523e3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/JavaWeb-Mybatis.html-e6bea665.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/mybatis.html-e47ab32a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Stream.html-df65bef6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/函数式接口.html-341843c2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/变量.html-31997323.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基础加强.html-a6f0c7f0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基础阶段.html-48457d9b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/多态.html-510cfc37.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/多线程.html-911ed220.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/常用API.html-f62c446a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/序列化.html-8bb9e4ec.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/抽象类.html-027bc9d0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/接口.html-d8cd2516.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/数据类型.html-0f552f8a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/泛型.html-266a7840.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/继承.html-1f46e03b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/网络编程.html-273c06cf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/装箱拆箱.html-401f18de.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/集合.html-bdce5572.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/面向对象进阶.html-33f561fd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/jdk安装.html-8d164dc5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Linux01.html-bf5ea3ef.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Linux02.html-c2f6cefa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Linux指令.html-04154a22.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/liunx-设置静态ip.html-c429d8c6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/mysql.html-0cda5541.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/同步时间.html-0f35ed24.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/阿里YUM源.html-dcf733be.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/base.html-c26f1e11.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/senior.html-0b934c9c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-SQL.html-4c0b8724.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-事务.html-31d51e9a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-函数.html-0d04ccdb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/MySQL-基础.html-3b5caf76.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-多表查询.html-172010ff.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Mysql-约束.html-e7197be8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/安装mysql.html-efb9a19b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运维-1-日志.html-7e70eb4e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运维-2-主从复制.html-d97c66c8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运维-3-分库分表.html-35be081f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运维-4-读写分离.html-7649d8b5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-1-存储引擎.html-31710f77.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-2-索引.html-be447601.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-3-SQL优化.html-b9a1877a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-4-视图、存储过程、触发器.html-11a697eb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-5-锁.html-9f3dddfb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-6-InnoDB引擎.html-30859e7d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/进阶-7-管理.html-10406493.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/nginx.html-4e7fcfb4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/express.html-7b5c2bac.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/http创建.html-2aaa971e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Koa.html-77ef32f4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/koa企业级三层框架.html-5fa70419.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/全局对象.html-480254eb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基础.html-0e080c6e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/文件系统.html-b5b9b092.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/网络编程.html-e3d223cc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/鉴权.html-82f5c927.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ahooks.html-430cc029.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/antd-mobile问题汇总.html-db2cfb83.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/class.html-17a04803.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Davjs.html-c0f22620.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/prop-types.html-5e2f0e6f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/react.html-f9b15778.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/React相关组件.html-1a756462.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/redux.html-4e04a69a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/UmiJS.html-ed9cf341.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/入门.html-c98fd958.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/函数（Hook）.html-45bd41eb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/源码分析.html-14712d15.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/知识点总结.html-82c4e895.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/订阅.html-3f2e645a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/路由.html-cfea9157.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/面试.html-d822bcf2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/React Native.html-f175cccb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/note.html-5d64d5ce.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring boot.html-b8aaa768.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring-mvc.html-240def92.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Spring-RestTemplate.html-2718378e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Spring-springMvc Service 数据交互问题.html-573b64d8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Spring-spring连接数据库问题.html-1366ea2a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring5.html-34e73d30.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringMvc常规搭建方式.html-086108bc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringMvc搭建方式.html-6a501865.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ01.html-ae722fbf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ02.html-c87a25cd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ安装说明文档.html-00de356e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ集群搭建.html-c590c5a4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring-boot01.html-fa5b9e82.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/spring-boot02.html-5bc6334b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Euraka配置详解.html-297a961b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Gateway.html-7836a0a8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/gateway内置过滤器工厂.html-7ee3fac5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ Windows 安装.html-ac819788.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringCloud01.html-b642079e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringCloud02.html-c990c3f6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringCloud03.html-74b30663.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/FastDFS.html-53f8262e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Pdf.html-e8bc7fea.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Poi.html-4222c9ad.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Shiro.html-14d59251.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Thymeleaf.html-682af4f5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/分布式ID生成解决方案.html-7a0226cf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/微服务网关限流_鉴权.html-5dfe73c0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/数据同步解决方案-canal.html-b98c7c41.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/用户认证.html-bae8f578.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/网站首页高可用nginx_lua.html-230573f4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ts.html-aa073619.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/TypeScript中的基本类型.html-982ee910.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/TypeScript打包.html-7425e719.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/接口.html-fab60788.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/泛型.html-ab8c6840.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/编译选项.html-904c8d65.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/贪吃蛇练习.html-fa691d40.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/面向对象.html-6e3bf493.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/uniapp.html-11f7fca6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/baidumap.html-8cd1deb2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/component动态组件.html-ecc79910.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/directive指令.html-cd4cd73c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/eventBus兄弟传值.html-b6d4f29a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/extend动态创建组件.html-e8b9f194.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/keep-alive.html-821e5da4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Pinia.html-0f54ebaa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/plugin.html-34f15920.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/plugin插件.html-94a461de.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/router原生js实现.html-9aefca2c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/scriptSetup.html-a5646508.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue1.0实现.html-0a30d6ec.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue3.html-016d7ee0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue3快速上手.html-e501794f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue3新特性.html-c8d94103.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vueRouter.html-30c71a1c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vuex.html-d49a7d0c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vuex原生js实现.html-3b2e47b0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue面试.html-50373b11.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/源码分析.html-e256a1c1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/组件.html-34423422.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/路由.html-770435cd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/骚操作.html-465a2fd5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue-cli前端自动化.html-c812aada.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/概念.html-bc46aea3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/热更新.html-2f53001f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/qiankun.html-6a899ae2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/微前端.html-256282ca.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/小程序基础.html-25d26322.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/小程序进阶.html-bb0b216b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/H5方法.html-fe133167.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/js方法.html-1ee4e73a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/优化.html-1a53201b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/树形.html-9108fc05.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/正则.html-387e8886.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/递归找组件.html-0be6251e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/context.html-d1b75c0c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/directory-tree.html-e46b38d8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/js多线程.html-1ae4e232.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/mock.html-27620d82.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PDF文档.html-8854cee7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue 预览 Excel 表格.html-458ca4bc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/vue 预览 word 文件 docx.html-7ed1cb10.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/下载.html-6c6eb38d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/搭建个人在线文档.html-6d930b5d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/断点上传下载.html-bce3191e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ES6.html-31e1e740.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/1-cesium简介.html-f7373530.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/2-cesium使用.html-89912b60.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/3-cesium绘制形状.html-b62ce395.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/4-cesium3DTiles.html-404a24f9.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/5-cesium材质.html-cd8259e8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubernetes（k8s）.html-d2200b3c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/1.简介.html-63463bae.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/2-快速入门.html-4d344c62.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/3-Spring配置文件.html-f1cb7af4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/4-Spring相关API.html-60a6a24d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/5-Spring配置数据源.html-013f3961.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/6-Spring注解开发.html-7ea1c347.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/7-Spring整合Junit.html-7b37b107.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/8-Spring与web环境的集成.html-ab219316.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/springCloud架构解析.html-459078e3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/SpringCloud项目总结.html-4ba61d87.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/到底要不要用Eureka.html-50bb5ae9.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/如何在k8s上正确部署Eureka.html-69b55b38.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/如何正确部署Zuul和ConfigServer到k8.html-96b14a59.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/如何正确部署Zuul和ConfigServer到k8s.html-26c5961e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/容器化SpringCloud项目说明.html-8321e895.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/GitLab安装配置.html-8a29ea8f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins BlueOcean入门.html-fad1fec6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins CICD介绍.html-bda51d15.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins Credentials配置.html-311ce5bb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins变量使用.html-8930dd76.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins声明式流水线入门.html-726a6b5f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins安装.html-4b36f277.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins级联变量.html-b950873d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/不同环境流水线设计.html-079c83ab.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/图形化创建Jenkinsfile.html-5bec7020.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/镜像仓库配置.html-deffb8e3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Docker镜像高级优化及自动化构建建议.html-a816eeae.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins基于角色的账户管理.html-1167da05.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins生产环境和UAT环境流水线设计.html-988ee26b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins自动化构建Java应用.html-e7531a3a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins自动化构建NodeJS应用.html-be24b96e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Jenkins配置Kubernetes多集群.html-3920e29b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/KUBECONFIG多集群配置.html-599b4241.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基于K8s的动态Jenkins Slave.html-3d0c0e46.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/K8s架构解析 Master节点介绍.html-8f49810b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/为什么要引入Pod.html-397a4ea3.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/为什么要用Kubernetes.html-52953287.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/什么是Pod.html-9670c8cb.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/定义一个Pod.html-50e708be.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机发布应用必备知识 Pod三种探针.html-5b07c336.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机必备知识 Liveness和Readiness.html-8de15932.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机必备知识 Pod退出流程.html-2f23c7a2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机必备知识 PreStop的使用.html-ba5e32e0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/零宕机必备知识 StartupProbe.html-0af66f0b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Dockerfile用法.html-8dbf1cd1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Docker基本命令.html-416d4017.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Docker基础.html-e1040b8b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Scratch镜像.html-d8f73341.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/镜像优化制作小镜像.html-f0a0aa2a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/镜像优化多阶段制作小镜像.html-46686d00.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress多域名使用.html-a51333b6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress简单使用.html-b5df39c4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Label_Selector.html-95a51289.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Service常用类型.html-68f06838.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/什么是Ingress.html-66e39795.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/什么是Service.html-8697afd1.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用helm安装ingress.html-460f8e7b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Service代理k8s外部服务.html-6d84071a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Service反代外部域名.html-c3386ef0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/在k8s上是如何发布服务的.html-a23f1f5e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/定义一个Service.html-52060139.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/DaemonSet的使用.html-325e934a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/DaemonSet的更新和回滚.html-443f1638.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment扩容和缩容.html-be784c43.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment更新暂停和恢复.html-8b4f044f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment更新注意事项.html-c60957b4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment的回滚.html-b7b20872.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Deployment的更新.html-17338845.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/HPA自动扩缩容.html-5b9067da.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RC_ReplicaSet.html-b2ff9dff.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet扩容缩容.html-7714ee4f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet更新策略.html-3a1f87de.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet灰度发布.html-80a4a5bf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet级联删除和非级联删除.html-0a3d0886.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/创建一个StatefulSet应用.html-35255e61.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/守护进程服务Daemonset.html-17ce0340.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/无状态服务Deployment概念.html-14d1d067.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/有状态应用管理StatefulSet概念.html-66e8b013.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ConfigMap_Secret使用SubPath.html-48d95ced.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ConfigMap_Secret热更新.html-e900a95f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s1.19的不可变Secret和ConfigMap.html-3fd8124e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s加密数据管理Secret.html-3f04851b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s配置管理ConfigMap.html-f7556bcf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/1-Kubeadm高可用安装基本说明.html-46dc775b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/2-Kubeadm Node节点配置.html-80495273.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/3-Kubeadm基本环境配置.html-3675d8a7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Dashboard_Metrics Server安装.html-9ea895cd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s高可用架构解析.html-1e078020.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubeadm基本组件安装.html-99f4d59e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubeadm集群初始化.html-ba643d30.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubeadm高可用组件安装.html-2323b3a8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/集群可用性验证.html-6a1044f7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/高可用Master及Token过期处理.html-b88ea340.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Bootstrapping CSR申请和证书颁发原理.html-1b6e948d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Bootstrapping Kubelet启动过程.html-a42e3003.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Bootstrapping 证书自动续期原理.html-515173d6.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s高可用架构解析.html-cda5dcbf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Metrics_Dashboard安装.html-2f1a8c87.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Node节点配置(Calico、CoreDNS).html-e6ed0cc0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制基本组件安装.html-baa2c1db.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制安装TLS Bootstrapping自动颁发证书.html-844eb658.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制生成证书详解.html-a2384541.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制系统和内核升级.html-d16f5f17.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制高可用及k8s组件配置.html-98f5e117.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制高可用基本配置.html-78720f94.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制高可用安装k8s集权说明.html-33034277.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制高可用集群可用性验证.html-3767a768.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/生产环境k8s集群关键性配置.html-05be3c88.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Etcd集群升级.html-526cceaa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Kubernetes升级CoreDNS.html-f192c3c5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Kubernetes升级Master组件.html-6bc27397.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Kubernetes升级Node和Calico.html-1710f05e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/二进制Kubernetes升级说明.html-1c793e59.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/EFK日志收集.html-6adef584.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Filebeat收集容器内日志.html-9440b236.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用不同资源名称查询日志.html-9067209b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Alertmanager入门.html-69647e1d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus使用微信告警.html-dc4413ae.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus使用邮件告警.html-4cfa7eb5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus自定义告警模板.html-431deeda.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus additional.html-3f6ef119.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus Exporter.html-b4b8d731.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus Metrics类型.html-df76288a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus安装.html-c7fe2464.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus监控etcd集群.html-e8935e90.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus黑盒监控.html-ace8f5e7.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PromQL基本操作.html-33e69507.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PromQL常用函数.html-bde0e3dd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/解决Scheduler监控问题.html-d3db67a0.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus监控Java JVM.html-94bac30a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Prometheus自动发现.html-6c03c4a4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/基于Eureka自动发现监控Java JVM.html-a62793ba.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx SSL配置.html-a76379fa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx域名重定向.html-48100d62.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx基本认证.html-023fd4aa.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx实现灰度-金丝雀.html-7f0c0687.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx监控.html-1fbef967.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ingress Nginx黑白名单.html-e7f308d2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s1.19下的Ingress配置.html-40df8088.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx入门.html-5776c75b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx前后端分离.html-a38eadc4.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx匹配请求头.html-fe326d60.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx自定义错误页面.html-cc55aaa2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/lngress Nginx速率限制.html-cda961d5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Dashboard基于用户名密码认证.html-c3fa7963.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kubernetes服务质量QoS.html-8ca1140b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Ratel简单使用.html-4b2f3f2d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RBAC使用.html-1129988c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RBAC实现不同用户不同权限.html-b43ba34c.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RBAC权限管理概念.html-cb582686.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/ServiceAccount权限管理.html-80b2c03f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用PodPreset预配置容器时区注意事项.html-b09b5398.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/准入控制.html-7cc4a4ca.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/安装一键式k8s资源平台Ratel到k8s集群中.html-f67cee96.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/k8s存储Volumes介绍.html-544a2f9f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PV_PVC入门使用.html-903705ce.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Volumes EmptyDir实现数据共享.html-5b63c7fc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Volumes HostPath挂载宿主机路径.html-d9548046.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/持久化存储PV_PVC概念.html-2a322639.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/挂载NFS至容器.html-39198534.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Affinity亲和力入门.html-b32c1692.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/CronJob计划任务.html-a1e8fba2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Pod亲和力和反亲和力.html-82eb6c37.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Taint_Toleration补充.html-8749ae7f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Topology拓扑域概念.html-d5e96d6d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/临时容器概念和配置.html-9399be3e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Topology实现多地多机房部署.html-09241f83.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用临时容器在线debug.html-1abaeb53.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/初始化容器InitContainer.html-8109b0da.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/污点和容忍Taint_Toleration入门.html-c9684068.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/节点亲和力NodeAffinity使用.html-a845c329.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Helm v3安装使用.html-7e6d9dcc.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Helm目录层级.html-09942da9.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Helm语法.html-4feb4722.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Kafka和Zookeeper集群扩容缩容.html-7d027380.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/RabbitMQ扩容和缩容.html-8623b557.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Redis集群扩容和缩容.html-072cc3ab.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/在k8s上部署Redis集群.html-dcce7fbe.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/如何部署一个容器到k8s开始学习.html-7bc20d4e.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/容器化中间件基本说明.html-cd977f31.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/编写Helm部署RabbitMQ集群.html-6a41b3c2.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/解决RabbitMQ密码不生效问题.html-f512e0a8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/运行自己编写的Helm.html-6cfc87ad.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/部署RabbitMQ集群到k8s.html-41e27304.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/部署Redis Operator.html-18f28f2a.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/部署Zookeeper和Kafka集群.html-4c903fdf.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/pVC在线扩容使用.html-f2b07585.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PVC在线扩容和PVC快照.html-d5934fb5.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/PVC快照和回滚.html-d4b6a260.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Rook Ceph xfs_repair问题.html-a6f4ec18.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Rook部署.html-a200a9d8.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/Rook集群清理和重建.html-1ba1ac05.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/StatefulSet动态申请存储.html-f8df3205.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/云原生存储Rook介绍.html-2020aa8b.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用PVC动态申请存储.html-2fff295f.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/使用Rook部署Ceph集群.html-5058578d.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/共享文件系统类型的StorageClass.html-6328c923.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/创建块存储类型的动态存储.html-629013fe.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/存储回顾.html-2d35dccd.js" as="script"><link rel="prefetch" href="/ahana-docs/assets/404.html-3aa732ee.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/ahana-docs/" class=""><!----><span class="site-name">啊涵的笔记（网上资料总结，个人笔记，非商用，如有侵权联系 qq: 2893559070 删除）</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="WebGL"><span class="title">WebGL</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="WebGL"><span class="title">WebGL</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/cesium/1-入门/1-cesium简介.html" class="" aria-label="Cesium"><!--[--><!--]--> Cesium <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/Git/git.html" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/node/express.html" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/React/入门.html" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/React Native/React Native.html" class="" aria-label="React Native"><!--[--><!--]--> React Native <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/TS/ts.html" class="" aria-label="TS"><!--[--><!--]--> TS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/uniapp/uniapp.html" class="" aria-label="Uniapp"><!--[--><!--]--> Uniapp <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/vue/vue1.0实现.html" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/vue-cli/vue-cli前端自动化.html" class="" aria-label="VueCli"><!--[--><!--]--> VueCli <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/webPack/概念.html" class="" aria-label="WebPack"><!--[--><!--]--> WebPack <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/方法/js方法.html" class="" aria-label="方法"><!--[--><!--]--> 方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/轮子/context.html" class="" aria-label="轮子"><!--[--><!--]--> 轮子 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/骚操作/ES6.html" class="" aria-label="骚操作"><!--[--><!--]--> 骚操作 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/微前端/微前端.html" class="" aria-label="微前端"><!--[--><!--]--> 微前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/微信小程序/小程序基础.html" class="" aria-label="微信小程序"><!--[--><!--]--> 微信小程序 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="后端"><span class="title">后端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="后端"><span class="title">后端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/java/变量.html" class="" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/mysql/Mysql-SQL.html" class="" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/maven/base.html" class="" aria-label="Maven"><!--[--><!--]--> Maven <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/ssm/1-spring/1.简介.html" class="" aria-label="SSM框架"><!--[--><!--]--> SSM框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/spring/note.html" class="router-link-active" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/springBoot/spring-boot01.html" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/springCloud/SpringCloud01.html" class="" aria-label="SpringCloud"><!--[--><!--]--> SpringCloud <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/springWheel/用户认证.md" class="" aria-label="SpringWheel"><!--[--><!--]--> SpringWheel <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="运维"><span class="title">运维</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="运维"><span class="title">运维</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/deployment/前端部署.html" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/Docker/docker.html" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/k8s/知识点/Kubernetes（k8s）.html" class="" aria-label="k8s"><!--[--><!--]--> k8s <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/ElasticSearch/Elasticsearch 安装.html" class="" aria-label="ElasticSearch"><!--[--><!--]--> ElasticSearch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/linux/Linux01.html" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/nginx/nginx.html" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="错误收集"><span class="title">错误收集</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="错误收集"><span class="title">错误收集</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/back-error/mysql.html" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/devops-error/Linux.html" class="" aria-label="运维"><!--[--><!--]--> 运维 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/front-error/vue.html" class="" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="WebGL"><span class="title">WebGL</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="WebGL"><span class="title">WebGL</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/cesium/1-入门/1-cesium简介.html" class="" aria-label="Cesium"><!--[--><!--]--> Cesium <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/Git/git.html" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/node/express.html" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/React/入门.html" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/React Native/React Native.html" class="" aria-label="React Native"><!--[--><!--]--> React Native <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/TS/ts.html" class="" aria-label="TS"><!--[--><!--]--> TS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/uniapp/uniapp.html" class="" aria-label="Uniapp"><!--[--><!--]--> Uniapp <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/vue/vue1.0实现.html" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/vue-cli/vue-cli前端自动化.html" class="" aria-label="VueCli"><!--[--><!--]--> VueCli <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/webPack/概念.html" class="" aria-label="WebPack"><!--[--><!--]--> WebPack <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/方法/js方法.html" class="" aria-label="方法"><!--[--><!--]--> 方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/轮子/context.html" class="" aria-label="轮子"><!--[--><!--]--> 轮子 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/骚操作/ES6.html" class="" aria-label="骚操作"><!--[--><!--]--> 骚操作 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/微前端/微前端.html" class="" aria-label="微前端"><!--[--><!--]--> 微前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/微信小程序/小程序基础.html" class="" aria-label="微信小程序"><!--[--><!--]--> 微信小程序 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="后端"><span class="title">后端</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="后端"><span class="title">后端</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/java/变量.html" class="" aria-label="Java基础"><!--[--><!--]--> Java基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/mysql/Mysql-SQL.html" class="" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/maven/base.html" class="" aria-label="Maven"><!--[--><!--]--> Maven <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/ssm/1-spring/1.简介.html" class="" aria-label="SSM框架"><!--[--><!--]--> SSM框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/spring/note.html" class="router-link-active" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/springBoot/spring-boot01.html" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/springCloud/SpringCloud01.html" class="" aria-label="SpringCloud"><!--[--><!--]--> SpringCloud <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/springWheel/用户认证.md" class="" aria-label="SpringWheel"><!--[--><!--]--> SpringWheel <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="运维"><span class="title">运维</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="运维"><span class="title">运维</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/deployment/前端部署.html" class="" aria-label="部署"><!--[--><!--]--> 部署 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/Docker/docker.html" class="" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/k8s/知识点/Kubernetes（k8s）.html" class="" aria-label="k8s"><!--[--><!--]--> k8s <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/ElasticSearch/Elasticsearch 安装.html" class="" aria-label="ElasticSearch"><!--[--><!--]--> ElasticSearch <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/linux/Linux01.html" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/nginx/nginx.html" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="错误收集"><span class="title">错误收集</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="错误收集"><span class="title">错误收集</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/ahana-docs/views/back-error/mysql.html" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/devops-error/Linux.html" class="" aria-label="运维"><!--[--><!--]--> 运维 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/ahana-docs/views/front-error/vue.html" class="" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Spring <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/ahana-docs/views/spring/note.html" class="sidebar-item" aria-label="常用配置依赖"><!--[--><!--]--> 常用配置依赖 <!--[--><!--]--></a><!----></li><li><a href="/ahana-docs/views/spring/spring%20boot.html" class="sidebar-item" aria-label="spring boot"><!--[--><!--]--> spring boot <!--[--><!--]--></a><!----></li><li><a href="/ahana-docs/views/spring/spring-mvc.html" class="sidebar-item" aria-label="spring-mvc"><!--[--><!--]--> spring-mvc <!--[--><!--]--></a><!----></li><li><a href="/ahana-docs/views/spring/Spring-RestTemplate.html" class="sidebar-item" aria-label="RestTemplate"><!--[--><!--]--> RestTemplate <!--[--><!--]--></a><!----></li><li><a href="/ahana-docs/views/spring/Spring-springMvc%20Service%20%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92%E9%97%AE%E9%A2%98.html" class="sidebar-item" aria-label="springMvc Service 数据交互问题"><!--[--><!--]--> springMvc Service 数据交互问题 <!--[--><!--]--></a><!----></li><li><a href="/ahana-docs/views/spring/Spring-spring%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E9%97%AE%E9%A2%98.html" class="sidebar-item" aria-label="spring连接数据库问题"><!--[--><!--]--> spring连接数据库问题 <!--[--><!--]--></a><!----></li><li><a href="/ahana-docs/views/spring/spring5.html" class="sidebar-item" aria-label="Spring5"><!--[--><!--]--> Spring5 <!--[--><!--]--></a><!----></li><li><a href="/ahana-docs/views/spring/SpringMvc%E5%B8%B8%E8%A7%84%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html" class="sidebar-item" aria-label="常规搭建方式"><!--[--><!--]--> 常规搭建方式 <!--[--><!--]--></a><!----></li><li><a href="/ahana-docs/views/spring/SpringMvc%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html" class="sidebar-item" aria-label="SpringMvc"><!--[--><!--]--> SpringMvc <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="spring"><!--[--><!--]--> spring <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#注解开发" class="router-link-active router-link-exact-active sidebar-item" aria-label="注解开发"><!--[--><!--]--> 注解开发 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#文件层级" class="router-link-active router-link-exact-active sidebar-item" aria-label="文件层级"><!--[--><!--]--> 文件层级 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#spring-xml-连接数据库-搭建模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="spring XML + 连接数据库 搭建模式"><!--[--><!--]--> spring XML + 连接数据库 搭建模式 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#文件层级-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="文件层级"><!--[--><!--]--> 文件层级 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#spring-xml-连接数据库-aop-搭建模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="spring XML + 连接数据库 + aop 搭建模式"><!--[--><!--]--> spring XML + 连接数据库 + aop 搭建模式 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#aop搭建模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="aop搭建模式"><!--[--><!--]--> aop搭建模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#申明式事务" class="router-link-active router-link-exact-active sidebar-item" aria-label="申明式事务"><!--[--><!--]--> 申明式事务 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#申明式事务-注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="申明式事务_注解"><!--[--><!--]--> 申明式事务_注解 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#申明式事务-存注解驱动" class="router-link-active router-link-exact-active sidebar-item" aria-label="申明式事务_存注解驱动"><!--[--><!--]--> 申明式事务_存注解驱动 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/ahana-docs/views/spring/Spring%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html#文件层级-5" class="router-link-active router-link-exact-active sidebar-item" aria-label="文件层级"><!--[--><!--]--> 文件层级 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="spring" tabindex="-1"><a class="header-anchor" href="#spring" aria-hidden="true">#</a> spring</h1><h2 id="注解开发" tabindex="-1"><a class="header-anchor" href="#注解开发" aria-hidden="true">#</a> 注解开发</h2><h3 id="文件层级" tabindex="-1"><a class="header-anchor" href="#文件层级" aria-hidden="true">#</a> 文件层级</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>- src
    - main
        - <span class="token function">java</span>
            - com.spring
                - config
                    - JDBCConfig
                    - MybatisConfig
                    - SpringConfig
                - dao
                    - AccountDao
                - domain
                    - AccountDao
                - <span class="token function">service</span>
                    - impl
                        - AccountServiceImpl
                    - AccountService
        - resources
            - com.spring.dao
                - AccountDao.xml
            applicationContext.xml
            jdbc.properties
    - <span class="token builtin class-name">test</span>
- pom.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>src <ul><li>main <ul><li>java <ul><li>com.spring <ul><li>config <ul><li>JDBCConfig<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
    * 注解加载第三方资源
    * */</span>
    <span class="token comment">//@Component</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCConfig</span> <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.driver}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.url}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.username}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.password}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

        <span class="token comment">// 加载druid资源</span>
        <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;dataSource&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">public</span> <span class="token class-name">DruidDataSource</span> <span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>MybatisConfig<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBean</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">MapperScannerConfigurer</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisConfig</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// spring整合mybatis后控制的创建连接用的对象</span>
        <span class="token annotation punctuation">@Bean</span>
        <span class="token keyword">public</span> <span class="token class-name">SqlSessionFactoryBean</span> <span class="token function">getSqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">SqlSessionFactoryBean</span> sfb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            sfb<span class="token punctuation">.</span><span class="token function">setTypeAliasesPackage</span><span class="token punctuation">(</span><span class="token string">&quot;com.spring.domain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            sfb<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> sfb<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 加载mybatis映射配置的扫描，将其作为spring的bean进行管理</span>
        <span class="token annotation punctuation">@Bean</span>
        <span class="token keyword">public</span> <span class="token class-name">MapperScannerConfigurer</span> <span class="token function">getScannerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">MapperScannerConfigurer</span> mmc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MapperScannerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mmc<span class="token punctuation">.</span><span class="token function">setBasePackage</span><span class="token punctuation">(</span><span class="token string">&quot;com.spring.dao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> mmc<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>SpringConfig<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Import</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertySource</span></span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
    * @Configuration
    * @ComponentScan(&quot;com.spring&quot;)
    * 替换
    * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    * */</span>

    <span class="token comment">// 启动注解驱动，指定对应的的扫描路径，也就是资源所在的包</span>
    <span class="token annotation punctuation">@Configuration</span>
    <span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.spring&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 加载perperties配置文件的信息</span>
    <span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:jdbc.properties&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 加载配置 字节码文件</span>
    <span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">JDBCConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MybatisConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>dao <ul><li>AccountDao<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">Account</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Delete</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Insert</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Select</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Update</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">&quot;insert into spring_db01 values(null, #{name}, #{age})&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Delete</span><span class="token punctuation">(</span><span class="token string">&quot;delete from spring_db01 where id = #{id}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token string">&quot;update spring_db01 set name=#{name},age=#{age} where id=#{id}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from spring_db01&quot;</span><span class="token punctuation">)</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from spring_db01 where id = #{id}&quot;</span><span class="token punctuation">)</span>
        <span class="token class-name">Account</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>domain <ul><li>Account<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>domain</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Account</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Double</span> money<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> id<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> age<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getMoney</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> money<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token class-name">Double</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> money<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;Account{&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span>
                    <span class="token string">&quot;, name=&#39;&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">&#39;\&#39;&#39;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span>
                    <span class="token string">&quot;, money=&quot;</span> <span class="token operator">+</span> money <span class="token operator">+</span>
                    <span class="token char">&#39;}&#39;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>service <ul><li>impl <ul><li>AccountServiceImpl<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">AccountDao</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">Account</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AccountService</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// 指定接口类</span>
        <span class="token annotation punctuation">@Autowired</span>
        <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            accountDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token punctuation">)</span><span class="token punctuation">{</span>
            accountDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            accountDao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> accountDao<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> accountDao<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>AccountService<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">Account</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Account</span> account<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Account</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li></ul></li><li>resources <ul><li>jdbc.properties<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    jdbc<span class="token punctuation">.</span>driver<span class="token operator">=</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>Driver</span>
    jdbc<span class="token punctuation">.</span>url<span class="token operator">=</span>jdbc<span class="token operator">:</span>mysql<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3306</span><span class="token operator">/</span>spring_db<span class="token operator">?</span>useUnicode<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>characterEncoding<span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span><span class="token operator">&amp;</span>useSSL<span class="token operator">=</span><span class="token boolean">false</span><span class="token operator">&amp;</span>serverTimezone<span class="token operator">=</span><span class="token constant">GMT</span>
    jdbc<span class="token punctuation">.</span>username<span class="token operator">=</span>root
    jdbc<span class="token punctuation">.</span>password<span class="token operator">=</span>gzh<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li><li>test <ul><li>java <ul><li>com.spring.service <ul><li>testDemo<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">SpringConfig</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">Account</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ContextConfiguration</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringJUnit4ClassRunner</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
    <span class="token comment">// 设定spring 加载器</span>
    <span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token comment">// 设置加载的spring上下文对应的配置</span>
    <span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span> classes <span class="token operator">=</span> <span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> testDome <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Autowired</span>
        <span class="token keyword">private</span> <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Test</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Account</span> byId <span class="token operator">=</span> accountService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>byId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Test</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> all <span class="token operator">=</span> accountService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li></ul></li></ul></li><li>pom.xml<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>注解开发<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.47<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.16<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="spring-xml-连接数据库-搭建模式" tabindex="-1"><a class="header-anchor" href="#spring-xml-连接数据库-搭建模式" aria-hidden="true">#</a> spring XML + 连接数据库 搭建模式</h2><h3 id="文件层级-1" tabindex="-1"><a class="header-anchor" href="#文件层级-1" aria-hidden="true">#</a> 文件层级</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>- src
    - main
        - <span class="token function">java</span>
            - com.spring
                - dao
                    - AccountDao
                - domain
                    - AccountDao
                - <span class="token function">service</span>
                    - impl
                        AccountServiceImpl
                    AccountService
        - resources
            - com.spring.dao
                - AccountDao.xml
            applicationContext.xml
            jdbc.properties
    - <span class="token builtin class-name">test</span>
- pom.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>src <ul><li>main <ul><li>java <ul><li>com.spring <ul><li>dao <ul><li>AccountDao<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token function">inMoney</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">outMoney</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>domain <ul><li>AccountDao<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>domain</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> money<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> money<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>service <ul><li>impl AccountServiceImpl<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">AccountDao</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AccountService</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span></span><span class="token class-name">DataSourceTransactionManager</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">PlatformTransactionManager</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">TransactionDefinition</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">TransactionStatus</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">DefaultTransactionDefinition</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

        <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAccountDao</span><span class="token punctuation">(</span><span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>accountDao <span class="token operator">=</span> accountDao<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDataSource</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>dataSource <span class="token operator">=</span> dataSource<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> outName<span class="token punctuation">,</span> <span class="token class-name">String</span> inName<span class="token punctuation">,</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 开启事务</span>
            <span class="token class-name">PlatformTransactionManager</span> ptm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceTransactionManager</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 事务定义</span>
            <span class="token class-name">TransactionDefinition</span> td <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultTransactionDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 事务状态</span>
            <span class="token class-name">TransactionStatus</span> ts <span class="token operator">=</span> ptm<span class="token punctuation">.</span><span class="token function">getTransaction</span><span class="token punctuation">(</span>td<span class="token punctuation">)</span><span class="token punctuation">;</span>

            accountDao<span class="token punctuation">.</span><span class="token function">inMoney</span><span class="token punctuation">(</span>outName<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
            accountDao<span class="token punctuation">.</span><span class="token function">outMoney</span><span class="token punctuation">(</span>inName<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 提交事务</span>
            ptm<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul> AccountService<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> outName<span class="token punctuation">,</span> <span class="token class-name">String</span> inName<span class="token punctuation">,</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li><li>resources <ul><li>com.spring.dao <ul><li>AccountDao.xml<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

    <span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
            <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
            <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.dao.AccountDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inMoney<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            update account set money = money + #{money} where name = #{name}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outMoney<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            update account set money = money - #{money} where name = #{name}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul> applicationContext.xml<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc.properties<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--数据源对象 注入--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 指定类型 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>typeAliasesPackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.domain<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 指定接口 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>jdbc.properties<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    <span class="token assign-left variable">jdbc.driver</span><span class="token operator">=</span>com.mysql.jdbc.Driver
    <span class="token assign-left variable">jdbc.url</span><span class="token operator">=</span>jdbc:mysql://localhost:3306/spring_db?useUnicode<span class="token operator">=</span>true<span class="token operator">&amp;</span><span class="token assign-left variable">characterEncoding</span><span class="token operator">=</span>utf-8<span class="token operator">&amp;</span><span class="token assign-left variable">useSSL</span><span class="token operator">=</span>false<span class="token operator">&amp;</span><span class="token assign-left variable">serverTimezone</span><span class="token operator">=</span>GMT
    <span class="token assign-left variable">jdbc.username</span><span class="token operator">=</span>root
    <span class="token assign-left variable">jdbc.password</span><span class="token operator">=</span>gzh***
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>test <ul><li>java <ul><li>com.spring.sevice AccountServiceTest</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">ClassPathXmlApplicationContext</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceTest</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Test</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transferDome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">ClassPathXmlApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            accountService<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li><li>pom.xml<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0
            http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>编程事务控制<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--spring连接数据库--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.ibatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>ibatis-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.47<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.16<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="spring-xml-连接数据库-aop-搭建模式" tabindex="-1"><a class="header-anchor" href="#spring-xml-连接数据库-aop-搭建模式" aria-hidden="true">#</a> spring XML + 连接数据库 + aop 搭建模式</h2><h3 id="aop搭建模式" tabindex="-1"><a class="header-anchor" href="#aop搭建模式" aria-hidden="true">#</a> aop搭建模式</h3><h4 id="文件层级-2" tabindex="-1"><a class="header-anchor" href="#文件层级-2" aria-hidden="true">#</a> 文件层级</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>- src
    - main
        - <span class="token function">java</span>
            - com.spring
                - aop
                    TxAdvice
                - dao
                    - AccountDao
                - domain
                    - AccountDao
                - <span class="token function">service</span>
                    - impl
                        AccountServiceImpl
                    AccountService
        - resources
            - com.spring.dao
                - AccountDao.xml
            applicationContext.xml
            jdbc.properties
    - <span class="token builtin class-name">test</span>
- pom.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>src <ul><li>main <ul><li>java <ul><li>com.spring <ul><li>aop TxAdvice<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>aop</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">ProceedingJoinPoint</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span></span><span class="token class-name">DataSourceTransactionManager</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">PlatformTransactionManager</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">TransactionDefinition</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">TransactionStatus</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">DefaultTransactionDefinition</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TxAdvice</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDataSource</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>dataSource <span class="token operator">=</span> dataSource<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">transactionManager</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
            <span class="token comment">// 开启事务</span>
            <span class="token class-name">PlatformTransactionManager</span> ptm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceTransactionManager</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 事务定义</span>
            <span class="token class-name">TransactionDefinition</span> td <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultTransactionDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 事务状态</span>
            <span class="token class-name">TransactionStatus</span> ts <span class="token operator">=</span> ptm<span class="token punctuation">.</span><span class="token function">getTransaction</span><span class="token punctuation">(</span>td<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">Object</span> ret <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>pjp<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 提交事务</span>
            ptm<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>dao <ul><li>AccountDao<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token function">inMoney</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">void</span> <span class="token function">outMoney</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>domain <ul><li>AccountDao<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>domain</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> money<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> money<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>service <ul><li>impl AccountServiceImpl<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">AccountDao</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AccountService</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

        <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>
        <span class="token comment">// private DataSource dataSource;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAccountDao</span><span class="token punctuation">(</span><span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>accountDao <span class="token operator">=</span> accountDao<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// public void setDataSource(DataSource dataSource) {</span>
        <span class="token comment">//     this.dataSource = dataSource;</span>
        <span class="token comment">// }</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> outName<span class="token punctuation">,</span> <span class="token class-name">String</span> inName<span class="token punctuation">,</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 开启事务</span>
            <span class="token comment">// PlatformTransactionManager ptm = new DataSourceTransactionManager(dataSource);</span>
            <span class="token comment">// 事务定义</span>
            <span class="token comment">// TransactionDefinition td = new DefaultTransactionDefinition();</span>
            <span class="token comment">// 事务状态</span>
            <span class="token comment">// TransactionStatus ts = ptm.getTransaction(td);</span>

            accountDao<span class="token punctuation">.</span><span class="token function">inMoney</span><span class="token punctuation">(</span>outName<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
            accountDao<span class="token punctuation">.</span><span class="token function">outMoney</span><span class="token punctuation">(</span>inName<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>

             <span class="token comment">// 提交事务</span>
             <span class="token comment">// ptm.commit(ts);</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul> AccountService<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> outName<span class="token punctuation">,</span> <span class="token class-name">String</span> inName<span class="token punctuation">,</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li><li>resources <ul><li>com.spring.dao <ul><li>AccountDao.xml<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

    <span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
            <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
            <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.dao.AccountDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inMoney<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            update account set money = money + #{money} where name = #{name}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outMoney<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            update account set money = money - #{money} where name = #{name}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul> applicationContext.xml<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/aop<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        https://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/aop
        https://www.springframework.org/schema/aop/spring-aop.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


        # ... 编程事务控制 一致bean配置

        <span class="token comment">&lt;!-- AOP --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.aop.TxAdvice<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pt<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* *..*transfer(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspect</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>around</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>transactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pt<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspect</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>jdbc.properties<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    <span class="token assign-left variable">jdbc.driver</span><span class="token operator">=</span>com.mysql.jdbc.Driver
    <span class="token assign-left variable">jdbc.url</span><span class="token operator">=</span>jdbc:mysql://localhost:3306/spring_db?useUnicode<span class="token operator">=</span>true<span class="token operator">&amp;</span><span class="token assign-left variable">characterEncoding</span><span class="token operator">=</span>utf-8<span class="token operator">&amp;</span><span class="token assign-left variable">useSSL</span><span class="token operator">=</span>false<span class="token operator">&amp;</span><span class="token assign-left variable">serverTimezone</span><span class="token operator">=</span>GMT
    <span class="token assign-left variable">jdbc.username</span><span class="token operator">=</span>root
    <span class="token assign-left variable">jdbc.password</span><span class="token operator">=</span>gzh***
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>test <ul><li>java <ul><li>com.spring.sevice AccountServiceTest</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">ClassPathXmlApplicationContext</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceTest</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Test</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transferDome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">ClassPathXmlApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">AccountService</span> accountService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">AccountService</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            accountService<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li><li>pom.xml<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0
            http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>编程事务控制AOP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

            # ...编程事务控制 一致依赖

            <span class="token comment">&lt;!--aop--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="申明式事务" tabindex="-1"><a class="header-anchor" href="#申明式事务" aria-hidden="true">#</a> 申明式事务</h3><h4 id="文件层级-3" tabindex="-1"><a class="header-anchor" href="#文件层级-3" aria-hidden="true">#</a> 文件层级</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>- src
    - main
        - <span class="token function">java</span>
            - com.spring
                - aop （ 配置申明式事务后 可删除 ）
                    TxAdvice
                - dao
                    - AccountDao
                - domain
                    - AccountDao
                - <span class="token function">service</span>
                    - impl
                        AccountServiceImpl
                    AccountService
        - resources
            - com.spring.dao
                - AccountDao.xml
            applicationContext.xml
            jdbc.properties
    - <span class="token builtin class-name">test</span>
- pom.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="变更代码" tabindex="-1"><a class="header-anchor" href="#变更代码" aria-hidden="true">#</a> 变更代码</h4><ul><li>src\main\resources\applicationContext.xml ( 修改后 )<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/aop<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/tx<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        https://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/aop
        https://www.springframework.org/schema/aop/spring-aop.xsd
        http://www.springframework.org/schema/tx
        https://www.springframework.org/schema/tx/spring-tx.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc.properties<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--数据源对象 注入--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 指定类型 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>typeAliasesPackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.domain<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 指定接口 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>


    <span class="token comment">&lt;!--    ############################ AOP ##############################--&gt;</span>

    <span class="token comment">&lt;!--    &lt;bean id=&quot;txAdvice&quot; class=&quot;com.spring.aop.TxAdvice&quot;&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--    &lt;/bean&gt;--&gt;</span>

    <span class="token comment">&lt;!--    &lt;aop:config&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;aop:pointcut id=&quot;pt&quot; expression=&quot;execution(* *..*transfer(..))&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;aop:aspect ref=&quot;txAdvice&quot; &gt;--&gt;</span>
    <span class="token comment">&lt;!--            &lt;aop:around method=&quot;transactionManager&quot; pointcut-ref=&quot;pt&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;/aop:aspect&gt;--&gt;</span>
    <span class="token comment">&lt;!--    &lt;/aop:config&gt;--&gt;</span>

        <span class="token comment">&lt;!--事务管理器--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--事务管理器的通知类--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--定义控制的事务--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!--对所有方法设置读取--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!--对get开头的方法设置只读事务--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--            &lt;tx:method name=&quot;transfer&quot; read-only=&quot;false&quot;/&gt;--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--对service的接口进行aop挂载--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pt<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* com.spring.service.*Service.*(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pt<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="申明式事务-注解" tabindex="-1"><a class="header-anchor" href="#申明式事务-注解" aria-hidden="true">#</a> 申明式事务_注解</h3><h4 id="文件层级-4" tabindex="-1"><a class="header-anchor" href="#文件层级-4" aria-hidden="true">#</a> 文件层级</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>- src
    - main
        - <span class="token function">java</span>
            - com.spring
                - dao
                    - AccountDao
                - domain
                    - AccountDao
                - <span class="token function">service</span>
                    - impl
                        AccountServiceImpl
                    AccountService
        - resources
            - com.spring.dao
                - AccountDao.xml
            applicationContext.xml
            jdbc.properties
    - <span class="token builtin class-name">test</span>
- pom.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="变更代码-1" tabindex="-1"><a class="header-anchor" href="#变更代码-1" aria-hidden="true">#</a> 变更代码</h4><ul><li>src\main\java\com\spring\service\AccountService.java ( 修改后 )<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Isolation</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Propagation</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Transactional</span></span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>isolation <span class="token operator">=</span> <span class="token class-name">Isolation</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

        <span class="token comment">// 指定事务管理器</span>
        <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>
                readOnly <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                timeout <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
                isolation <span class="token operator">=</span> <span class="token class-name">Isolation</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">,</span>
                rollbackFor <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// java.lang.ArithmeticException.class, IOException.class</span>
                propagation <span class="token operator">=</span> <span class="token class-name">Propagation</span><span class="token punctuation">.</span><span class="token constant">REQUIRED</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> outName<span class="token punctuation">,</span> <span class="token class-name">String</span> inName<span class="token punctuation">,</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>src\main\resources\applicationContext.xml ( 修改后 )<div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>    <span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/aop<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xmlns:</span>tx</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/tx<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        https://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/aop
        https://www.springframework.org/schema/aop/spring-aop.xsd
        http://www.springframework.org/schema/tx
        https://www.springframework.org/schema/tx/spring-tx.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc.properties<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--数据源对象 注入--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.service.impl.AccountServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>accountDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 指定类型 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>typeAliasesPackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.domain<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 指定接口 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>


    <span class="token comment">&lt;!--    ############################ AOP ##############################--&gt;</span>

    <span class="token comment">&lt;!--    &lt;bean id=&quot;txAdvice&quot; class=&quot;com.spring.aop.TxAdvice&quot;&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--    &lt;/bean&gt;--&gt;</span>

    <span class="token comment">&lt;!--    &lt;aop:config&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;aop:pointcut id=&quot;pt&quot; expression=&quot;execution(* *..*transfer(..))&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;aop:aspect ref=&quot;txAdvice&quot; &gt;--&gt;</span>
    <span class="token comment">&lt;!--            &lt;aop:around method=&quot;transactionManager&quot; pointcut-ref=&quot;pt&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;/aop:aspect&gt;--&gt;</span>
    <span class="token comment">&lt;!--    &lt;/aop:config&gt;--&gt;</span>

        <span class="token comment">&lt;!--事务管理器--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--开启事务注解驱动, 指定事务管理器--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txManager<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--    &amp;lt;!&amp;ndash;事务管理器的通知类&amp;ndash;&amp;gt;--&gt;</span>
    <span class="token comment">&lt;!--    &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;txManager&quot;&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &amp;lt;!&amp;ndash;定义控制的事务&amp;ndash;&amp;gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;tx:attributes&gt;--&gt;</span>
    <span class="token comment">&lt;!--            &amp;lt;!&amp;ndash;对所有方法设置读取&amp;ndash;&amp;gt;--&gt;</span>
    <span class="token comment">&lt;!--            &lt;tx:method name=&quot;*&quot; read-only=&quot;false&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--            &amp;lt;!&amp;ndash;对get开头的方法设置只读事务&amp;ndash;&amp;gt;--&gt;</span>
    <span class="token comment">&lt;!--            &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;/tx:attributes&gt;--&gt;</span>
    <span class="token comment">&lt;!--    &lt;/tx:advice&gt;--&gt;</span>

    <span class="token comment">&lt;!--    &lt;aop:config&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &amp;lt;!&amp;ndash;对service的接口进行aop挂载&amp;ndash;&amp;gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;aop:pointcut id=&quot;pt&quot; expression=&quot;execution(* com.spring.service.*Service.*(..))&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;pt&quot; /&gt;--&gt;</span>
    <span class="token comment">&lt;!--    &lt;/aop:config&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="申明式事务-存注解驱动" tabindex="-1"><a class="header-anchor" href="#申明式事务-存注解驱动" aria-hidden="true">#</a> 申明式事务_存注解驱动</h2><h3 id="文件层级-5" tabindex="-1"><a class="header-anchor" href="#文件层级-5" aria-hidden="true">#</a> 文件层级</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    - src
        - main
            - <span class="token function">java</span>
                - com.spring
                    - config
                        - JDBCConfig
                        - MyBatisConfig
                        - SpringConfig
                    - dao
                        - AccountDao
                    - domain
                        - AccountDao
                    - <span class="token function">service</span>
                        - impl
                            AccountServiceImpl
                        AccountService
            - resources
                jdbc.properties
        - <span class="token builtin class-name">test</span>
            - <span class="token function">java</span>
                - com.spring.service
                    - testDemo
    - pom.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>src <ul><li>main <ul><li>java <ul><li>com.spring <ul><li>config <ul><li>JDBCConfig<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSource</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span></span><span class="token class-name">DataSourceTransactionManager</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span></span><span class="token class-name">PlatformTransactionManager</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
    * 注解加载第三方资源
    * */</span>
    <span class="token comment">//@Component</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCConfig</span> <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.driver}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.url}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.username}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${jdbc.password}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

        <span class="token comment">// 加载druid资源</span>
        <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;dataSource&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">public</span> <span class="token class-name">DruidDataSource</span> <span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">DruidDataSource</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Bean</span>
        <span class="token keyword">public</span> <span class="token class-name">PlatformTransactionManager</span> <span class="token function">getPlatformTransactionManager</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceTransactionManager</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>MyBatisConfig<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBean</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">MapperScannerConfigurer</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisConfig</span> <span class="token punctuation">{</span>
        <span class="token comment">// spring整合mybatis后控制的创建连接用的对象</span>
        <span class="token annotation punctuation">@Bean</span>
        <span class="token keyword">public</span> <span class="token class-name">SqlSessionFactoryBean</span> <span class="token function">getSqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Autowired</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">SqlSessionFactoryBean</span> sfb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            sfb<span class="token punctuation">.</span><span class="token function">setTypeAliasesPackage</span><span class="token punctuation">(</span><span class="token string">&quot;com.spring.domain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            sfb<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> sfb<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 加载mybatis映射配置的扫描，将其作为spring的bean进行管理</span>
        <span class="token annotation punctuation">@Bean</span>
        <span class="token keyword">public</span> <span class="token class-name">MapperScannerConfigurer</span> <span class="token function">getScannerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">MapperScannerConfigurer</span> mmc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MapperScannerConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mmc<span class="token punctuation">.</span><span class="token function">setBasePackage</span><span class="token punctuation">(</span><span class="token string">&quot;com.spring.dao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> mmc<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>SpringConfig<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Import</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertySource</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">EnableTransactionManagement</span></span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
    * @Configuration
    * @ComponentScan(&quot;com.spring&quot;)
    * 替换
    * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.spring<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    * */</span>

    <span class="token comment">// 启动注解驱动，指定对应的的扫描路径，也就是资源所在的包</span>
    <span class="token annotation punctuation">@Configuration</span>
    <span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.spring&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 加载perperties配置文件的信息</span>
    <span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:jdbc.properties&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 加载配置 字节码文件</span>
    <span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">JDBCConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">MyBatisConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// （申明式事务 存注解驱动）开启注解驱动，等同XML格式中的注解驱动</span>
    <span class="token annotation punctuation">@EnableTransactionManagement</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>dao <ul><li>AccountDao<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Update</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token string">&quot;update account set money = money + #{money} where name = #{name}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">void</span> <span class="token function">inMoney</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token string">&quot;update account set money = money - #{money} where name = #{name}&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">void</span> <span class="token function">outMoney</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>domain <ul><li>AccountDao<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>domain</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">Integer</span> money<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMoney</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>money <span class="token operator">=</span> money<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>service <ul><li>impl AccountServiceImpl<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">AccountDao</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">AccountService</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">&quot;accountService&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Autowired</span>
        <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAccountDao</span><span class="token punctuation">(</span><span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>accountDao <span class="token operator">=</span> accountDao<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> outName<span class="token punctuation">,</span> <span class="token class-name">String</span> inName<span class="token punctuation">,</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            accountDao<span class="token punctuation">.</span><span class="token function">inMoney</span><span class="token punctuation">(</span>outName<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//                int a = 1 / 0;</span>
            accountDao<span class="token punctuation">.</span><span class="token function">outMoney</span><span class="token punctuation">(</span>inName<span class="token punctuation">,</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul> AccountService<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Isolation</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Propagation</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Transactional</span></span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>isolation <span class="token operator">=</span> <span class="token class-name">Isolation</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

        <span class="token comment">// 指定事务管理器</span>
        <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>
                readOnly <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                timeout <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
                isolation <span class="token operator">=</span> <span class="token class-name">Isolation</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">,</span>
                rollbackFor <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// java.lang.ArithmeticException.class, IOException.class</span>
                propagation <span class="token operator">=</span> <span class="token class-name">Propagation</span><span class="token punctuation">.</span><span class="token constant">REQUIRED</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> outName<span class="token punctuation">,</span> <span class="token class-name">String</span> inName<span class="token punctuation">,</span> <span class="token class-name">Integer</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li><li>resources jdbc.properties<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    <span class="token assign-left variable">jdbc.driver</span><span class="token operator">=</span>com.mysql.jdbc.Driver
    <span class="token assign-left variable">jdbc.url</span><span class="token operator">=</span>jdbc:mysql://localhost:3306/spring_db?useUnicode<span class="token operator">=</span>true<span class="token operator">&amp;</span><span class="token assign-left variable">characterEncoding</span><span class="token operator">=</span>utf-8<span class="token operator">&amp;</span><span class="token assign-left variable">useSSL</span><span class="token operator">=</span>false<span class="token operator">&amp;</span><span class="token assign-left variable">serverTimezone</span><span class="token operator">=</span>GMT
    <span class="token assign-left variable">jdbc.username</span><span class="token operator">=</span>root
    <span class="token assign-left variable">jdbc.password</span><span class="token operator">=</span>gzh***
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>test <ul><li>java <ul><li>com.spring.service <ul><li>testDemo<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">SpringConfig</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ContextConfiguration</span></span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringJUnit4ClassRunner</span></span><span class="token punctuation">;</span>

    <span class="token comment">// 设定spring 加载器</span>
    <span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token comment">// 设置加载的spring上下文对应的配置</span>
    <span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span> classes <span class="token operator">=</span> <span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> testDemo <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Autowired</span>
        <span class="token keyword">private</span> <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span>

        <span class="token annotation punctuation">@Test</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transferDome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            accountService<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul></li></ul></li></ul></li><li>pom.xml 配置同上</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 2893559070@qq.com">耿子涵</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/ahana-docs/views/spring/SpringMvc%E6%90%AD%E5%BB%BA%E6%96%B9%E5%BC%8F.html" class="" aria-label="SpringMvc"><!--[--><!--]--> SpringMvc <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/ahana-docs/assets/app-676abf65.js" defer></script>
  </body>
</html>
